<!doctype html>
<html lang="en", "sp">
<head>
<meta charset="utf-8">
<title>Sustainability at Molloy College</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" href="styles.css">
<link href="https://fonts.googleapis.com/css?family=Courier+Prime&display=swap" rel="stylesheet">
<meta name='viewport' content='initial-scale=1,maximum-scale=1' />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js"></script>
<script src='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js'></script>
<link href='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css' rel='stylesheet' />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
</head>
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-zoomslider/v0.7.0/L.Control.Zoomslider.js'></script>
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-zoomslider/v0.7.0/L.Control.Zoomslider.css' rel='stylesheet' />
<style>

body, html {
  margin:0;
  padding:0;
  height: 100%;
}

<!--CSS FOR MAP -->

#map-container {
            height: 90%;
            padding-bottom: 0px;
            margin: 0px;
}

#map {
        display: block;
        height: 90%;
        width: 80%;
        margin-left: auto;
        margin-right: auto;
}

.popup {
  text-align:center;
}

.popup .slideshow .image{
  display:none;
}

.popup .slideshow .image.active {
  display:block;
}

.popup .slideshow img {
  width:100%;
}

.popup .slideshow .caption {
  background:#eee;
  padding:10px;
}

.popup .cycle {
  padding:10px 0 20px;
}

.popup .cycle a.prev { float:left;
}

.popup .cycle a.next { float:right;
}

/* Adjustments to account for mapbox.css box-sizing rules */
.leaflet-control-zoomslider-knob { width:14px; height:6px; }
.leaflet-container .leaflet-control-zoomslider-body {
  -webkit-box-sizing:content-box;
     -moz-box-sizing:content-box;
          box-sizing:content-box;
  }

<!--End CSS for Map -->

</style>
</head>
  <body>
    
      <div id ="title"><h1>Sustainability at Molloy College</h1></div>
      <br><div id="response">created by Gabbie and Mayralee with help from Austin, Nick, and Shane</div></br>

<p>Click on the map points below to access maps of each building.</p>

      <div id='map'></div>
      <div id="map-container">

      <div id='map'></div>
      </div>


      <!-- API ACCESS FOR THE MAP -->
      <script src='https://code.jquery.com/jquery-1.11.0.min.js'></script>
      <script>
      L.mapbox.accessToken = 'pk.eyJ1IjoibWF5cmFsZWVtIiwiYSI6ImNsMWdnYnpuejB4bGszcXA4ZTJicHl6MnUifQ.f0aZXh8RtSk5ZkV0VnmkEg';
      var map = L.mapbox.map('map', 'mapbox.streets', {
        container: 'map',
      });

      var myLayer = L.mapbox.featureLayer().addTo(map);

      var geoJson = [{
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-73.625697,40.686976]},
          "properties": {
              'title': 'Wilbur Arts Center & Quealy Hall',
              'marker-color': '#E6E6FA',
              'marker-symbol': 'school',
              'marker-size': 'large',

              // Store the image url and caption in an array.
              'images': [
                ['https://drive.google.com/file/d/1oYXS-J8R7sRjy1sSm2fDRsLWxVdei0sn/view','Basement'],
                ['http://mayralee.molloynewmedia.org/images/starrynight.jpeg','1st floor'],
                ['http://mayralee.molloynewmedia.org/images/thereality.jpeg','2nd foor']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-73.626609,40.686829]},
          "properties": {
              'title': 'Casey Center',
              'marker-color': '#0096FF',
              'marker-symbol': 'school',
              'marker-size': 'large',
              'images': [
                ['https://mayralee.molloynewmedia.org/images/bmgroup.jpg','Basement'],
                ['https://mayralee.molloynewmedia.org/images/bmfortune.jpg','1st floor'],
                ['https://mayralee.molloynewmedia.org/images/bmparty.jpg','2nd floor']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-73.627349,40.686301]},
          "properties": {
              'title': 'Public Square & The Madison Theatre',
              'marker-color': '#E1C699',
              'marker-symbol': 'school',
              'marker-size': 'large',
              'images': [
                ['file:///Users/mayraleemartinez/Documents/Public+Square_Page_1.jpg','Basement'],
                ['https://mayralee.molloynewmedia.org/images/torso.jpeg','1st floor'],
                ['https://mayralee.molloynewmedia.org/images/degas.jpeg','2nd floor'],
                ['https://mayralee.molloynewmedia.org/images/psedit.jpg','3rd floor']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-73.626211,40.685926]},
          "properties": {
              'title': 'Kellenberg Hall',
              'marker-color': '#8B0000',
              'marker-symbol': 'school',
              'marker-size': 'large',
              'images': [
                ['http://molloymediaarchaeology.org/images/dublintown.jpg','Basement'],
                ['http://molloymediaarchaeology.org/images/jervis.jpg','1st floor'],
                ['http://mayralee.molloynewmedia.org/images/dadspalo.jpg','2nd floor'],
                ['http://mayralee.molloynewmedia.org/images/dadspalo.jpg','3rd floor'],
                ['http://mayralee.molloynewmedia.org/images/dadspalo.jpg','4th floor']
              ]
          }
      }, {
          type: 'Feature',
          "geometry": { "type": "Point", "coordinates": [-73.627210,40.687065]},
          "properties": {
              'title': 'Siena Hall',
              'marker-color': '#FFC0CB',
              'marker-symbol': 'school',
              'marker-size': 'large',
              'images': [
                ['http://mayralee.molloynewmedia.org/images/bonsai.jpeg','1st floor']
              ]
          }
      }];

      // Add custom popup html to each marker.
      myLayer.on('layeradd', function(e) {
          var marker = e.layer;
          var feature = marker.feature;
          var images = feature.properties.images
          var slideshowContent = '';

          for(var i = 0; i < images.length; i++) {
              var img = images[i];

              slideshowContent += '<div class="image' + (i === 0 ? ' active' : '') + '">' +
                                    '<img src="' + img[0] + '" />' +
                                    '<div class="caption">' + img[1] + '</div>' +
                                  '</div>';
          }

          // Create custom popup content
          var popupContent =  '<div id="' + feature.properties.id + '" class="popup">' +
                                  '<h2>' + feature.properties.title + '</h2>' +
                                  '<div class="slideshow">' +
                                      slideshowContent +
                                  '</div>' +
                                  '<div class="cycle">' +
                                      '<a href="#" class="prev">&laquo; Previous</a>' +
                                      '<a href="#" class="next">Next &raquo;</a>' +
                                  '</div>'
                              '</div>';

          // http://leafletjs.com/reference.html#popup
          marker.bindPopup(popupContent,{
              closeButton: false,
              minWidth: 320
          });
      });

      // Add features to the map
      myLayer.setGeoJSON(geoJson);

      $('#map').on('click', '.popup .cycle a', function() {
          var $slideshow = $('.slideshow'),
              $newSlide;

          if ($(this).hasClass('prev')) {
              $newSlide = $slideshow.find('.active').prev();
              if ($newSlide.index() < 0) {
                  $newSlide = $('.image').last();
              }
          } else {
              $newSlide = $slideshow.find('.active').next();
              if ($newSlide.index() < 0) {
                  $newSlide = $('.image').first();
              }
          }

          $slideshow.find('.active').removeClass('active').hide();
          $newSlide.addClass('active').show();
          return false;
      });

      <!-- SET THE MAP VIEW HERE -->
      map.setView([40.686179,-73.626544], 20);
      </script>
      <br><p>Sustainability on Molloy's campus is scarce in action and we wanted to make a place where students could find resources to be more sustainable.</p> 
        <p>Please use the maps provided to find places on campus where you can refill your water bottles, as well as places where you can recycle your paper products.</p></br>
    </div>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script src="scripts.js"></script>
</body>
</html>
